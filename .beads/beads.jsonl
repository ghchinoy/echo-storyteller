{"id":"echo-06f","title":"Implement 'Continue Story' Feature","description":"Implement context-aware story suggestions ('What happens next?') at the end of a generation. \\n\\nArchitecture:\\n1. Backend: After story finishes, ask Gemini to generate 3 short plot options based on the story text.\\n2. Protocol: Send '{ type: \"suggestions\", content: [\"Option A\", \"Option B\"] }'.\\n3. Frontend: Display these chips at the bottom of the story scroll view.\\n4. Interaction: Clicking an option sends it as a new prompt. Ideally, we append to the current story rather than clearing it, creating a multi-chapter experience.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:07:08.570607093-07:00","updated_at":"2025-11-30T17:03:51.238680962-07:00","closed_at":"2025-11-30T17:03:51.238680962-07:00","labels":["backend","feature","frontend"]}
{"id":"echo-06f.1","title":"Backend: Generate Plot Suggestions","description":"Implement 'GenerateSuggestions(storyText)' using Gemini Flash. Call this at the end of the story stream and send the list via WebSocket.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T16:22:17.281552225-07:00","updated_at":"2025-11-30T16:34:10.412269442-07:00","closed_at":"2025-11-30T16:34:10.412269442-07:00","labels":["backend genai"],"dependencies":[{"issue_id":"echo-06f.1","depends_on_id":"echo-06f","type":"parent-child","created_at":"2025-11-30T16:22:17.283736622-07:00","created_by":"daemon"}]}
{"id":"echo-06f.2","title":"Frontend: Display Plot Options","description":"Handle 'suggestions' message type. Render chips at the bottom of the book. Update 'sendMessage' to support appending/continuing story mode.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T16:22:22.193435796-07:00","updated_at":"2025-11-30T17:03:48.125438309-07:00","closed_at":"2025-11-30T17:03:48.125438309-07:00","labels":["frontend ui"],"dependencies":[{"issue_id":"echo-06f.2","depends_on_id":"echo-06f","type":"parent-child","created_at":"2025-11-30T16:22:22.19436155-07:00","created_by":"daemon"}]}
{"id":"echo-06f.3","title":"Backend: Implement Story Summarizer","description":"Create  function using . Compress story history into a concise summary context to send to the client.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T16:30:06.028301674-07:00","updated_at":"2025-11-30T16:34:01.734678915-07:00","closed_at":"2025-11-30T16:34:01.734678915-07:00","labels":["backend genai"],"dependencies":[{"issue_id":"echo-06f.3","depends_on_id":"echo-06f","type":"parent-child","created_at":"2025-11-30T16:30:06.032900676-07:00","created_by":"daemon"}]}
{"id":"echo-06f.4","title":"Backend: Update Generator with Context","description":"Update  to accept  from the client. Inject this context into the generation prompt ('Previous Story Context: ...'). Update  struct.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T16:30:17.960155958-07:00","updated_at":"2025-11-30T16:34:06.727263829-07:00","closed_at":"2025-11-30T16:34:06.727263829-07:00","labels":["backend"],"dependencies":[{"issue_id":"echo-06f.4","depends_on_id":"echo-06f","type":"parent-child","created_at":"2025-11-30T16:30:17.96342997-07:00","created_by":"daemon"}]}
{"id":"echo-330","title":"Refactor UI for Linear Story Flow","description":"Refactor the frontend to support a continuous, linear story format (Chapter 1 -\u003e Chapter 2 -\u003e ...). \\n\\nRequirements:\\n1. State: Replace separate title/image/transcript variables with a  structure.\\n2. UI: Render the story as a list of Chapters, each containing .\\n3. Suggestions: Move the plot suggestions *inside* the scrollable view, immediately following the last paragraph, to visually connect them to the story context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T17:40:14.636517073-07:00","updated_at":"2025-11-30T17:43:41.35289308-07:00","closed_at":"2025-11-30T17:43:41.35289308-07:00","labels":["frontend refactor ui"]}
{"id":"echo-38j","title":"Visual Scenes with Gemini 3 Pro Image","description":"Implement a pipeline to analyze the story, create image prompts, and use gemini-3-pro-image-preview to generate scene illustrations. Display these alongside the text. Integrate with the 'Continue Story' feature.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:07:08.66553263-07:00","updated_at":"2025-11-30T15:43:33.702186387-07:00","closed_at":"2025-11-30T15:43:33.702186387-07:00","labels":["backend","feature","frontend","genai"]}
{"id":"echo-38j.1","title":"Animate Visual Scene Introduction","description":"Implement a polished, 'magical' entrance animation for the generated story images. \\n\\nRequirements:\\n1. Avoid harsh layout jumps; use 'AnimatedSize' or similar to expand the space smoothly.\\n2. The image itself should fade/scale in (e.g., 'FadeInImage' with a custom curve, or a 'ScaleTransition').\\n3. Consider a 'shimmer' or 'pulse' placeholder while the image is loading if the URL is known before the bytes arrive.\\n4. The animation should feel cohesive with the 'Storybook' aesthetic (e.g., an ink-reveal effect or soft dissolve).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T14:11:47.840766083-07:00","updated_at":"2025-11-30T15:43:27.941531761-07:00","closed_at":"2025-11-30T15:43:27.941531761-07:00","labels":["frontend animation ui"],"dependencies":[{"issue_id":"echo-38j.1","depends_on_id":"echo-38j","type":"parent-child","created_at":"2025-11-30T14:11:47.848077385-07:00","created_by":"daemon"}]}
{"id":"echo-38j.2","title":"Dynamic Scene Detection for Visuals","description":"Enhance Visual Scenes (Option B) by analyzing the story stream for scene changes or key emotional moments. When a scene change is detected, generate and push a new image to the client.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T15:38:35.982692702-07:00","updated_at":"2025-11-30T15:38:35.982692702-07:00","labels":["backend genai"],"dependencies":[{"issue_id":"echo-38j.2","depends_on_id":"echo-38j","type":"parent-child","created_at":"2025-11-30T15:38:35.98540215-07:00","created_by":"daemon"}]}
{"id":"echo-5nv","title":"Frontend Maintenance \u0026 Cleanup","description":"Address static analysis issues and fix broken tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:44:28.270238468-07:00","updated_at":"2025-11-30T13:10:44.962398193-07:00","closed_at":"2025-11-30T13:10:44.962398193-07:00","labels":["frontend","maintenance","refactor"]}
{"id":"echo-5nv.1","title":"Fix Frontend Lints \u0026 Deprecations","description":"Replace deprecated 'withOpacity' with 'withValues', remove unused imports, and ensure 'package:web' is properly declared.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:44:32.498113949-07:00","updated_at":"2025-11-30T13:10:44.775881067-07:00","closed_at":"2025-11-30T13:10:44.775881067-07:00","labels":["frontend","refactor"],"dependencies":[{"issue_id":"echo-5nv.1","depends_on_id":"echo-5nv","type":"parent-child","created_at":"2025-11-30T12:44:32.499901186-07:00","created_by":"daemon"}]}
{"id":"echo-5nv.2","title":"Fix Widget Tests","description":"Update widget_test.dart to use 'EchoApp' instead of the non-existent 'MyApp'.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:44:32.558621293-07:00","updated_at":"2025-11-30T13:10:44.783252892-07:00","closed_at":"2025-11-30T13:10:44.783252892-07:00","labels":["frontend","testing"],"dependencies":[{"issue_id":"echo-5nv.2","depends_on_id":"echo-5nv","type":"parent-child","created_at":"2025-11-30T12:44:32.560259426-07:00","created_by":"daemon"}]}
{"id":"echo-5sd","title":"Refine Story Prompt for Better Narrative","description":"Update the system prompt to generate stories with a reasonable narrative arc and at least 3 paragraphs, removing the 100-word limit. Aim for a richer storytelling experience.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:07:08.38074069-07:00","updated_at":"2025-11-30T14:00:53.965051608-07:00","closed_at":"2025-11-30T14:00:53.965051608-07:00","labels":["backend","prompt-engineering"]}
{"id":"echo-7un","title":"Support Model Selection","description":"Frontend should allow selecting the Gemini TTS model (Flash Lite, Flash, Pro) in addition to the voice. Backend needs to accept and use this model parameter.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T11:56:07.162436205-07:00","updated_at":"2025-11-30T14:31:34.06605893-07:00","closed_at":"2025-11-30T14:31:34.06605893-07:00","labels":["backend","enhancement","frontend"]}
{"id":"echo-7un.1","title":"Refine Input Area UI","description":"Move the Voice and Model selection DropdownButtons to the right of the TextField. Update the TextField label to 'Enter your story topic...'. Ensure the layout handles the width constraints gracefully.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T14:30:15.126589498-07:00","updated_at":"2025-11-30T14:31:30.573865714-07:00","closed_at":"2025-11-30T14:31:30.573865714-07:00","labels":["frontend ui"],"dependencies":[{"issue_id":"echo-7un.1","depends_on_id":"echo-7un","type":"parent-child","created_at":"2025-11-30T14:30:15.129122939-07:00","created_by":"daemon"}]}
{"id":"echo-cml","title":"Generate and Display Story Title","description":"Ask the model to generate a title for the story and display it prominently above the teleprompter area in the UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:07:08.614297995-07:00","updated_at":"2025-11-30T14:10:26.36156258-07:00","closed_at":"2025-11-30T14:10:26.36156258-07:00","labels":["backend","frontend","ui"]}
{"id":"echo-hoc","title":"Refine Active Text Highlighting","description":"Currently, the highlighting logic is simple: the last received sentence is 'active' (black), and everything else is dimmed. This is inaccurate because text arrives faster than audio. We need to sync the visual highlighting with the audio playback progress, potentially using the  or a similar mechanism to highlight the sentence *actually* being spoken.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T14:27:30.723641694-07:00","updated_at":"2025-11-30T14:27:30.723641694-07:00","labels":["frontend ux"]}
{"id":"echo-hrp","title":"Improve Sentence Splitting Logic","description":"The current sentence splitter splits on '.?!' or length \u003e 100. This can break abbreviations (e.g., 'Mr.') or long sentences unnaturally. We need a smarter heuristic or regex.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T13:16:20.672196537-07:00","updated_at":"2025-11-30T15:38:30.694357886-07:00","closed_at":"2025-11-30T15:38:30.694357886-07:00","labels":["backend"]}
{"id":"echo-igz","title":"Fix Docker Build Failure","description":"The 'COPY frontend/build/web' step is failing. The artifacts are likely excluded by .gcloudignore or .dockerignore.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T11:50:44.383769216-07:00","updated_at":"2025-11-30T11:51:16.653170827-07:00","closed_at":"2025-11-30T11:51:16.653170827-07:00","labels":["bug","devops"]}
{"id":"echo-s30","title":"Implement Voice Selection","description":"Frontend should allow selecting from the Chirp voice list. Backend should parse JSON payload and use selected voice.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T11:50:43.766675859-07:00","updated_at":"2025-11-30T11:55:12.843719501-07:00","closed_at":"2025-11-30T11:55:12.843719501-07:00","labels":["backend","enhancement","frontend"]}
{"id":"echo-u1s","title":"Configurable Model Versions","description":"Refactor backend to load Gemini model names from environment variables (GEMINI_MODEL_STORY, GEMINI_MODEL_SUMMARY, GEMINI_MODEL_IMAGE) with sensible defaults.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T16:30:21.650746514-07:00","updated_at":"2025-11-30T16:34:15.436146644-07:00","closed_at":"2025-11-30T16:34:15.436146644-07:00","labels":["backend config"]}
{"id":"echo-vwm","title":"Expand Quick Start Suggestions","description":"Add a larger library of creative story prompts (e.g., 20-30) to the frontend. When the app loads, randomly select 4 distinct prompts to display in the 'Suggestions' chips. This adds variety and encourages exploration.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T16:18:57.717707397-07:00","updated_at":"2025-11-30T16:18:57.717707397-07:00","labels":["frontend content"]}
{"id":"echo-y2f","title":"Fix Deployment Failure (Beads Socket)","description":"Deployment failed because .beads/bd.sock was uploaded. Add .beads/ to .gcloudignore.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-30T12:08:05.64003797-07:00","updated_at":"2025-11-30T12:08:26.683155932-07:00","closed_at":"2025-11-30T12:08:26.683155932-07:00","labels":["bug","devops"]}
